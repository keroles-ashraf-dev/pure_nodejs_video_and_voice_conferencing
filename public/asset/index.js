/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./dist/public/asset/index.js":
/*!************************************!*\
  !*** ./dist/public/asset/index.js ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst socketIO = __importStar(__webpack_require__(/*! ./socket.io.min */ \"./dist/public/asset/socket.io.min.js\"));\n//////////////////////////////// global vars ///////////////////////////\n// rtc peer connection configuration\nconst configuration = {\n    iceServers: [\n        {\n            urls: [\n                'stun:stun1.l.google.com:19302',\n                'stun:stun2.l.google.com:19302',\n            ],\n        },\n    ],\n    iceCandidatePoolSize: 10,\n};\n// connected peer connections\nconst peers = new Map();\n// connected remote streams\nconst remoteStreams = new Map();\n// my stream\nlet localStream;\n// socket io client\nlet socket;\n// video grid to show all the users streaming\nconst videoGrid = document.getElementById('videos-grid');\n////////////////////////////////// function call ///////////////////////////////\n// start local stream, add it to video grid and initiate socket connection\nstartStreaming();\n///////////////////////////////// function decleration //////////////////////////\n/// start my streaming\nfunction startStreaming() {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            localStream = yield navigator.mediaDevices.getUserMedia({\n                video: true,\n                audio: true\n            });\n            // add local to the video grid\n            addVideo(undefined, localStream);\n            initiateSocketConnection();\n        }\n        catch (e) {\n            console.log('startStreaming - error: ' + e);\n        }\n    });\n}\n// initiate socket connection\nfunction initiateSocketConnection() {\n    socket = socketIO.io('/');\n    socket.on('ON_JOIN_REQUEST', (data) => __awaiter(this, void 0, void 0, function* () {\n        console.log('ON_JOIN_REQUEST');\n        const socketId = data.socket_id;\n        // create new peer connection\n        const pc = addNewPeerConnection(socketId);\n        // Get candidates for sender\n        pc.onicecandidate = (event) => {\n            if (event.candidate) {\n                socket.emit(\"ON_OFFER_CANDIDATE\", {\n                    socket_id: socketId,\n                    candidate: event.candidate.toJSON(),\n                });\n            }\n        };\n        const offer = yield pc.createOffer();\n        yield pc.setLocalDescription(new RTCSessionDescription(offer));\n        socket.emit(\"ON_OFFER_CREATED\", {\n            socket_id: socketId,\n            offer: offer,\n        });\n    }));\n    socket.on('ON_OFFER_CREATED', (data) => __awaiter(this, void 0, void 0, function* () {\n        console.log('ON_OFFER_CREATED');\n        const socketId = data.socket_id;\n        // create new peer connection\n        const pc = addNewPeerConnection(socketId);\n        // Get candidates for receiver\n        pc.onicecandidate = (event) => {\n            if (event.candidate) {\n                socket.emit(\"ON_ANSWER_CANDIDATE\", {\n                    socket_id: socketId,\n                    candidate: event.candidate.toJSON(),\n                });\n            }\n        };\n        yield pc.setRemoteDescription(new RTCSessionDescription(data.offer));\n        const answer = yield pc.createAnswer();\n        yield pc.setLocalDescription(new RTCSessionDescription(answer));\n        socket.emit(\"ON_ANSWER_CREATED\", {\n            answer: answer,\n            socket_id: socketId,\n        });\n    }));\n    socket.on('ON_ANSWER_CREATED', (data) => __awaiter(this, void 0, void 0, function* () {\n        var _a;\n        console.log('ON_ANSWER_CREATED');\n        yield ((_a = peers.get(data.socket_id)) === null || _a === void 0 ? void 0 : _a.setRemoteDescription(new RTCSessionDescription(data.answer)));\n    }));\n    socket.on('ON_OFFER_CANDIDATE', (data) => __awaiter(this, void 0, void 0, function* () {\n        console.log('ON_OFFER_CANDIDATE');\n        const socketId = data.socket_id;\n        const pc = peers.get(socketId);\n        if (!pc)\n            return;\n        pc.addIceCandidate(new RTCIceCandidate(data.candidate));\n    }));\n    socket.on('ON_ANSWER_CANDIDATE', (data) => __awaiter(this, void 0, void 0, function* () {\n        console.log('ON_ANSWER_CANDIDATE');\n        const socketId = data.socket_id;\n        const pc = peers.get(socketId);\n        if (!pc)\n            return;\n        pc.addIceCandidate(new RTCIceCandidate(data.candidate));\n    }));\n    socket.on('ON_DISCONNECTED', (data) => {\n        console.log('ON_DISCONNECTED: ' + data.socket_id);\n        const socketId = data.socket_id;\n        removePeerConnection(socketId);\n    });\n}\nfunction addNewPeerConnection(socketId) {\n    const pc = new RTCPeerConnection(configuration);\n    peers.set(socketId, pc);\n    const stream = new MediaStream();\n    remoteStreams.set(socketId, stream);\n    addVideo(socketId, stream);\n    pushLocalStream(pc);\n    listenToRemoteStream(pc, remoteStreams.get(socketId));\n    return pc;\n}\nfunction removePeerConnection(socketId) {\n    const pc = peers.get(socketId);\n    if (!pc)\n        return;\n    pc.close();\n    peers.delete(socketId);\n    remoteStreams.delete(socketId);\n    removeVideo(socketId);\n}\n// push local stream to peer\nfunction pushLocalStream(pc) {\n    localStream.getTracks().forEach((track) => {\n        pc.addTrack(track, localStream);\n    });\n}\n// get remote stream from peer\nfunction listenToRemoteStream(pc, stream) {\n    pc.ontrack = function (ev) {\n        console.log('ontrack: ' + ev.streams.map((stream) => stream.id));\n        console.log('locale stream: ' + localStream.id);\n        ev.streams[0].getTracks().forEach((track) => {\n            stream === null || stream === void 0 ? void 0 : stream.addTrack(track);\n        });\n    };\n}\n/// add video to the video grid\nfunction addVideo(socketId, stream) {\n    const video = document.createElement('video');\n    video.srcObject = stream;\n    if (socketId)\n        video.setAttribute('id', socketId);\n    else\n        video.muted = true; // i don't like my voice :)\n    video.addEventListener('loadedmetadata', () => {\n        video.play();\n    });\n    videoGrid.append(video);\n}\n/// remove video from the video grid\nfunction removeVideo(socketId) {\n    const video = document.getElementById(socketId);\n    if (video) {\n        videoGrid === null || videoGrid === void 0 ? void 0 : videoGrid.removeChild(video);\n    }\n}\n\n\n//# sourceURL=webpack://pure_node_js_streaming_app/./dist/public/asset/index.js?");

/***/ }),

/***/ "./dist/public/asset/socket.io.min.js":
/*!********************************************!*\
  !*** ./dist/public/asset/socket.io.min.js ***!
  \********************************************/
/***/ (function(module, exports) {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/*!\n * Socket.IO v4.7.1\n * (c) 2014-2023 Guillermo Rauch\n * Released under the MIT License.\n */\n!function (t, e) {  true ? module.exports = e() : 0; }(this, (function () {\n    \"use strict\";\n    function t(e) { return t = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) { return typeof t; } : function (t) { return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t; }, t(e); }\n    function e(t, e) { if (!(t instanceof e))\n        throw new TypeError(\"Cannot call a class as a function\"); }\n    function n(t, e) { for (var n = 0; n < e.length; n++) {\n        var r = e[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(t, (i = r.key, o = void 0, \"symbol\" == typeof (o = function (t, e) { if (\"object\" != typeof t || null === t)\n            return t; var n = t[Symbol.toPrimitive]; if (void 0 !== n) {\n            var r = n.call(t, e || \"default\");\n            if (\"object\" != typeof r)\n                return r;\n            throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n        } return (\"string\" === e ? String : Number)(t); }(i, \"string\")) ? o : String(o)), r);\n    } var i, o; }\n    function r(t, e, r) { return e && n(t.prototype, e), r && n(t, r), Object.defineProperty(t, \"prototype\", { writable: !1 }), t; }\n    function i() { return i = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) {\n        var n = arguments[e];\n        for (var r in n)\n            Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);\n    } return t; }, i.apply(this, arguments); }\n    function o(t, e) { if (\"function\" != typeof e && null !== e)\n        throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && a(t, e); }\n    function s(t) { return s = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, s(t); }\n    function a(t, e) { return a = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, a(t, e); }\n    function c() { if (\"undefined\" == typeof Reflect || !Reflect.construct)\n        return !1; if (Reflect.construct.sham)\n        return !1; if (\"function\" == typeof Proxy)\n        return !0; try {\n        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }))), !0;\n    }\n    catch (t) {\n        return !1;\n    } }\n    function u(t, e, n) { return u = c() ? Reflect.construct.bind() : function (t, e, n) { var r = [null]; r.push.apply(r, e); var i = new (Function.bind.apply(t, r)); return n && a(i, n.prototype), i; }, u.apply(null, arguments); }\n    function h(t) { var e = \"function\" == typeof Map ? new Map : void 0; return h = function (t) { if (null === t || (n = t, -1 === Function.toString.call(n).indexOf(\"[native code]\")))\n        return t; var n; if (\"function\" != typeof t)\n        throw new TypeError(\"Super expression must either be null or a function\"); if (void 0 !== e) {\n        if (e.has(t))\n            return e.get(t);\n        e.set(t, r);\n    } function r() { return u(t, arguments, s(this).constructor); } return r.prototype = Object.create(t.prototype, { constructor: { value: r, enumerable: !1, writable: !0, configurable: !0 } }), a(r, t); }, h(t); }\n    function f(t) { if (void 0 === t)\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return t; }\n    function l(t) { var e = c(); return function () { var n, r = s(t); if (e) {\n        var i = s(this).constructor;\n        n = Reflect.construct(r, arguments, i);\n    }\n    else\n        n = r.apply(this, arguments); return function (t, e) { if (e && (\"object\" == typeof e || \"function\" == typeof e))\n        return e; if (void 0 !== e)\n        throw new TypeError(\"Derived constructors may only return object or undefined\"); return f(t); }(this, n); }; }\n    function p() { return p = \"undefined\" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (t, e, n) { var r = function (t, e) { for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = s(t));)\n        ; return t; }(t, e); if (r) {\n        var i = Object.getOwnPropertyDescriptor(r, e);\n        return i.get ? i.get.call(arguments.length < 3 ? t : n) : i.value;\n    } }, p.apply(this, arguments); }\n    function d(t, e) { (null == e || e > t.length) && (e = t.length); for (var n = 0, r = new Array(e); n < e; n++)\n        r[n] = t[n]; return r; }\n    function y(t, e) { var n = \"undefined\" != typeof Symbol && t[Symbol.iterator] || t[\"@@iterator\"]; if (!n) {\n        if (Array.isArray(t) || (n = function (t, e) { if (t) {\n            if (\"string\" == typeof t)\n                return d(t, e);\n            var n = Object.prototype.toString.call(t).slice(8, -1);\n            return \"Object\" === n && t.constructor && (n = t.constructor.name), \"Map\" === n || \"Set\" === n ? Array.from(t) : \"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? d(t, e) : void 0;\n        } }(t)) || e && t && \"number\" == typeof t.length) {\n            n && (t = n);\n            var r = 0, i = function () { };\n            return { s: i, n: function () { return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] }; }, e: function (t) { throw t; }, f: i };\n        }\n        throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    } var o, s = !0, a = !1; return { s: function () { n = n.call(t); }, n: function () { var t = n.next(); return s = t.done, t; }, e: function (t) { a = !0, o = t; }, f: function () { try {\n            s || null == n.return || n.return();\n        }\n        finally {\n            if (a)\n                throw o;\n        } } }; }\n    var v = Object.create(null);\n    v.open = \"0\", v.close = \"1\", v.ping = \"2\", v.pong = \"3\", v.message = \"4\", v.upgrade = \"5\", v.noop = \"6\";\n    var g = Object.create(null);\n    Object.keys(v).forEach((function (t) { g[v[t]] = t; }));\n    var m, b = { type: \"error\", data: \"parser error\" }, k = \"function\" == typeof Blob || \"undefined\" != typeof Blob && \"[object BlobConstructor]\" === Object.prototype.toString.call(Blob), w = \"function\" == typeof ArrayBuffer, _ = function (t) { return \"function\" == typeof ArrayBuffer.isView ? ArrayBuffer.isView(t) : t && t.buffer instanceof ArrayBuffer; }, O = function (t, e, n) { var r = t.type, i = t.data; return k && i instanceof Blob ? e ? n(i) : A(i, n) : w && (i instanceof ArrayBuffer || _(i)) ? e ? n(i) : A(new Blob([i]), n) : n(v[r] + (i || \"\")); }, A = function (t, e) { var n = new FileReader; return n.onload = function () { var t = n.result.split(\",\")[1]; e(\"b\" + (t || \"\")); }, n.readAsDataURL(t); };\n    function E(t) { return t instanceof Uint8Array ? t : t instanceof ArrayBuffer ? new Uint8Array(t) : new Uint8Array(t.buffer, t.byteOffset, t.byteLength); }\n    for (var R = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\", T = \"undefined\" == typeof Uint8Array ? [] : new Uint8Array(256), C = 0; C < 64; C++)\n        T[R.charCodeAt(C)] = C;\n    var B, S = \"function\" == typeof ArrayBuffer, N = function (t, e) { if (\"string\" != typeof t)\n        return { type: \"message\", data: x(t, e) }; var n = t.charAt(0); return \"b\" === n ? { type: \"message\", data: L(t.substring(1), e) } : g[n] ? t.length > 1 ? { type: g[n], data: t.substring(1) } : { type: g[n] } : b; }, L = function (t, e) { if (S) {\n        var n = function (t) { var e, n, r, i, o, s = .75 * t.length, a = t.length, c = 0; \"=\" === t[t.length - 1] && (s--, \"=\" === t[t.length - 2] && s--); var u = new ArrayBuffer(s), h = new Uint8Array(u); for (e = 0; e < a; e += 4)\n            n = T[t.charCodeAt(e)], r = T[t.charCodeAt(e + 1)], i = T[t.charCodeAt(e + 2)], o = T[t.charCodeAt(e + 3)], h[c++] = n << 2 | r >> 4, h[c++] = (15 & r) << 4 | i >> 2, h[c++] = (3 & i) << 6 | 63 & o; return u; }(t);\n        return x(n, e);\n    } return { base64: !0, data: t }; }, x = function (t, e) { return \"blob\" === e ? t instanceof Blob ? t : new Blob([t]) : t instanceof ArrayBuffer ? t : t.buffer; }, P = String.fromCharCode(30);\n    function j(t) { if (t)\n        return function (t) { for (var e in j.prototype)\n            t[e] = j.prototype[e]; return t; }(t); }\n    j.prototype.on = j.prototype.addEventListener = function (t, e) { return this._callbacks = this._callbacks || {}, (this._callbacks[\"$\" + t] = this._callbacks[\"$\" + t] || []).push(e), this; }, j.prototype.once = function (t, e) { function n() { this.off(t, n), e.apply(this, arguments); } return n.fn = e, this.on(t, n), this; }, j.prototype.off = j.prototype.removeListener = j.prototype.removeAllListeners = j.prototype.removeEventListener = function (t, e) { if (this._callbacks = this._callbacks || {}, 0 == arguments.length)\n        return this._callbacks = {}, this; var n, r = this._callbacks[\"$\" + t]; if (!r)\n        return this; if (1 == arguments.length)\n        return delete this._callbacks[\"$\" + t], this; for (var i = 0; i < r.length; i++)\n        if ((n = r[i]) === e || n.fn === e) {\n            r.splice(i, 1);\n            break;\n        } return 0 === r.length && delete this._callbacks[\"$\" + t], this; }, j.prototype.emit = function (t) { this._callbacks = this._callbacks || {}; for (var e = new Array(arguments.length - 1), n = this._callbacks[\"$\" + t], r = 1; r < arguments.length; r++)\n        e[r - 1] = arguments[r]; if (n) {\n        r = 0;\n        for (var i = (n = n.slice(0)).length; r < i; ++r)\n            n[r].apply(this, e);\n    } return this; }, j.prototype.emitReserved = j.prototype.emit, j.prototype.listeners = function (t) { return this._callbacks = this._callbacks || {}, this._callbacks[\"$\" + t] || []; }, j.prototype.hasListeners = function (t) { return !!this.listeners(t).length; };\n    var q = \"undefined\" != typeof self ? self : \"undefined\" != typeof window ? window : Function(\"return this\")();\n    function I(t) { for (var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++)\n        n[r - 1] = arguments[r]; return n.reduce((function (e, n) { return t.hasOwnProperty(n) && (e[n] = t[n]), e; }), {}); }\n    var D = q.setTimeout, F = q.clearTimeout;\n    function U(t, e) { e.useNativeTimers ? (t.setTimeoutFn = D.bind(q), t.clearTimeoutFn = F.bind(q)) : (t.setTimeoutFn = q.setTimeout.bind(q), t.clearTimeoutFn = q.clearTimeout.bind(q)); }\n    var M, V = function (t) { o(i, t); var n = l(i); function i(t, r, o) { var s; return e(this, i), (s = n.call(this, t)).description = r, s.context = o, s.type = \"TransportError\", s; } return r(i); }(h(Error)), H = function (t) { o(i, t); var n = l(i); function i(t) { var r; return e(this, i), (r = n.call(this)).writable = !1, U(f(r), t), r.opts = t, r.query = t.query, r.socket = t.socket, r; } return r(i, [{ key: \"onError\", value: function (t, e, n) { return p(s(i.prototype), \"emitReserved\", this).call(this, \"error\", new V(t, e, n)), this; } }, { key: \"open\", value: function () { return this.readyState = \"opening\", this.doOpen(), this; } }, { key: \"close\", value: function () { return \"opening\" !== this.readyState && \"open\" !== this.readyState || (this.doClose(), this.onClose()), this; } }, { key: \"send\", value: function (t) { \"open\" === this.readyState && this.write(t); } }, { key: \"onOpen\", value: function () { this.readyState = \"open\", this.writable = !0, p(s(i.prototype), \"emitReserved\", this).call(this, \"open\"); } }, { key: \"onData\", value: function (t) { var e = N(t, this.socket.binaryType); this.onPacket(e); } }, { key: \"onPacket\", value: function (t) { p(s(i.prototype), \"emitReserved\", this).call(this, \"packet\", t); } }, { key: \"onClose\", value: function (t) { this.readyState = \"closed\", p(s(i.prototype), \"emitReserved\", this).call(this, \"close\", t); } }, { key: \"pause\", value: function (t) { } }, { key: \"createUri\", value: function (t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return t + \"://\" + this._hostname() + this._port() + this.opts.path + this._query(e); } }, { key: \"_hostname\", value: function () { var t = this.opts.hostname; return -1 === t.indexOf(\":\") ? t : \"[\" + t + \"]\"; } }, { key: \"_port\", value: function () { return this.opts.port && (this.opts.secure && Number(443 !== this.opts.port) || !this.opts.secure && 80 !== Number(this.opts.port)) ? \":\" + this.opts.port : \"\"; } }, { key: \"_query\", value: function (t) { var e = function (t) { var e = \"\"; for (var n in t)\n                t.hasOwnProperty(n) && (e.length && (e += \"&\"), e += encodeURIComponent(n) + \"=\" + encodeURIComponent(t[n])); return e; }(t); return e.length ? \"?\" + e : \"\"; } }]), i; }(j), K = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_\".split(\"\"), Y = 64, W = {}, z = 0, J = 0;\n    function $(t) { var e = \"\"; do {\n        e = K[t % Y] + e, t = Math.floor(t / Y);\n    } while (t > 0); return e; }\n    function Q() { var t = $(+new Date); return t !== M ? (z = 0, M = t) : t + \".\" + $(z++); }\n    for (; J < Y; J++)\n        W[K[J]] = J;\n    var X = !1;\n    try {\n        X = \"undefined\" != typeof XMLHttpRequest && \"withCredentials\" in new XMLHttpRequest;\n    }\n    catch (t) { }\n    var G = X;\n    function Z(t) { var e = t.xdomain; try {\n        if (\"undefined\" != typeof XMLHttpRequest && (!e || G))\n            return new XMLHttpRequest;\n    }\n    catch (t) { } if (!e)\n        try {\n            return new (q[[\"Active\"].concat(\"Object\").join(\"X\")])(\"Microsoft.XMLHTTP\");\n        }\n        catch (t) { } }\n    function tt() { }\n    var et = null != new Z({ xdomain: !1 }).responseType, nt = function (t) { o(s, t); var n = l(s); function s(t) { var r; if (e(this, s), (r = n.call(this, t)).polling = !1, \"undefined\" != typeof location) {\n        var i = \"https:\" === location.protocol, o = location.port;\n        o || (o = i ? \"443\" : \"80\"), r.xd = \"undefined\" != typeof location && t.hostname !== location.hostname || o !== t.port;\n    } var a = t && t.forceBase64; return r.supportsBinary = et && !a, r.opts.withCredentials && (r.cookieJar = void 0), r; } return r(s, [{ key: \"name\", get: function () { return \"polling\"; } }, { key: \"doOpen\", value: function () { this.poll(); } }, { key: \"pause\", value: function (t) { var e = this; this.readyState = \"pausing\"; var n = function () { e.readyState = \"paused\", t(); }; if (this.polling || !this.writable) {\n                var r = 0;\n                this.polling && (r++, this.once(\"pollComplete\", (function () { --r || n(); }))), this.writable || (r++, this.once(\"drain\", (function () { --r || n(); })));\n            }\n            else\n                n(); } }, { key: \"poll\", value: function () { this.polling = !0, this.doPoll(), this.emitReserved(\"poll\"); } }, { key: \"onData\", value: function (t) { var e = this; (function (t, e) { for (var n = t.split(P), r = [], i = 0; i < n.length; i++) {\n                var o = N(n[i], e);\n                if (r.push(o), \"error\" === o.type)\n                    break;\n            } return r; })(t, this.socket.binaryType).forEach((function (t) { if (\"opening\" === e.readyState && \"open\" === t.type && e.onOpen(), \"close\" === t.type)\n                return e.onClose({ description: \"transport closed by the server\" }), !1; e.onPacket(t); })), \"closed\" !== this.readyState && (this.polling = !1, this.emitReserved(\"pollComplete\"), \"open\" === this.readyState && this.poll()); } }, { key: \"doClose\", value: function () { var t = this, e = function () { t.write([{ type: \"close\" }]); }; \"open\" === this.readyState ? e() : this.once(\"open\", e); } }, { key: \"write\", value: function (t) { var e = this; this.writable = !1, function (t, e) { var n = t.length, r = new Array(n), i = 0; t.forEach((function (t, o) { O(t, !1, (function (t) { r[o] = t, ++i === n && e(r.join(P)); })); })); }(t, (function (t) { e.doWrite(t, (function () { e.writable = !0, e.emitReserved(\"drain\"); })); })); } }, { key: \"uri\", value: function () { var t = this.opts.secure ? \"https\" : \"http\", e = this.query || {}; return !1 !== this.opts.timestampRequests && (e[this.opts.timestampParam] = Q()), this.supportsBinary || e.sid || (e.b64 = 1), this.createUri(t, e); } }, { key: \"request\", value: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return i(t, { xd: this.xd, cookieJar: this.cookieJar }, this.opts), new rt(this.uri(), t); } }, { key: \"doWrite\", value: function (t, e) { var n = this, r = this.request({ method: \"POST\", data: t }); r.on(\"success\", e), r.on(\"error\", (function (t, e) { n.onError(\"xhr post error\", t, e); })); } }, { key: \"doPoll\", value: function () { var t = this, e = this.request(); e.on(\"data\", this.onData.bind(this)), e.on(\"error\", (function (e, n) { t.onError(\"xhr poll error\", e, n); })), this.pollXhr = e; } }]), s; }(H), rt = function (t) { o(i, t); var n = l(i); function i(t, r) { var o; return e(this, i), U(f(o = n.call(this)), r), o.opts = r, o.method = r.method || \"GET\", o.uri = t, o.data = void 0 !== r.data ? r.data : null, o.create(), o; } return r(i, [{ key: \"create\", value: function () { var t, e = this, n = I(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\"); n.xdomain = !!this.opts.xd; var r = this.xhr = new Z(n); try {\n                r.open(this.method, this.uri, !0);\n                try {\n                    if (this.opts.extraHeaders)\n                        for (var o in r.setDisableHeaderCheck && r.setDisableHeaderCheck(!0), this.opts.extraHeaders)\n                            this.opts.extraHeaders.hasOwnProperty(o) && r.setRequestHeader(o, this.opts.extraHeaders[o]);\n                }\n                catch (t) { }\n                if (\"POST\" === this.method)\n                    try {\n                        r.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                    }\n                    catch (t) { }\n                try {\n                    r.setRequestHeader(\"Accept\", \"*/*\");\n                }\n                catch (t) { }\n                null === (t = this.opts.cookieJar) || void 0 === t || t.addCookies(r), \"withCredentials\" in r && (r.withCredentials = this.opts.withCredentials), this.opts.requestTimeout && (r.timeout = this.opts.requestTimeout), r.onreadystatechange = function () { var t; 3 === r.readyState && (null === (t = e.opts.cookieJar) || void 0 === t || t.parseCookies(r)), 4 === r.readyState && (200 === r.status || 1223 === r.status ? e.onLoad() : e.setTimeoutFn((function () { e.onError(\"number\" == typeof r.status ? r.status : 0); }), 0)); }, r.send(this.data);\n            }\n            catch (t) {\n                return void this.setTimeoutFn((function () { e.onError(t); }), 0);\n            } \"undefined\" != typeof document && (this.index = i.requestsCount++, i.requests[this.index] = this); } }, { key: \"onError\", value: function (t) { this.emitReserved(\"error\", t, this.xhr), this.cleanup(!0); } }, { key: \"cleanup\", value: function (t) { if (void 0 !== this.xhr && null !== this.xhr) {\n                if (this.xhr.onreadystatechange = tt, t)\n                    try {\n                        this.xhr.abort();\n                    }\n                    catch (t) { }\n                \"undefined\" != typeof document && delete i.requests[this.index], this.xhr = null;\n            } } }, { key: \"onLoad\", value: function () { var t = this.xhr.responseText; null !== t && (this.emitReserved(\"data\", t), this.emitReserved(\"success\"), this.cleanup()); } }, { key: \"abort\", value: function () { this.cleanup(); } }]), i; }(j);\n    if (rt.requestsCount = 0, rt.requests = {}, \"undefined\" != typeof document)\n        if (\"function\" == typeof attachEvent)\n            attachEvent(\"onunload\", it);\n        else if (\"function\" == typeof addEventListener) {\n            addEventListener(\"onpagehide\" in q ? \"pagehide\" : \"unload\", it, !1);\n        }\n    function it() { for (var t in rt.requests)\n        rt.requests.hasOwnProperty(t) && rt.requests[t].abort(); }\n    var ot = \"function\" == typeof Promise && \"function\" == typeof Promise.resolve ? function (t) { return Promise.resolve().then(t); } : function (t, e) { return e(t, 0); }, st = q.WebSocket || q.MozWebSocket, at = \"undefined\" != typeof navigator && \"string\" == typeof navigator.product && \"reactnative\" === navigator.product.toLowerCase(), ct = function (t) { o(i, t); var n = l(i); function i(t) { var r; return e(this, i), (r = n.call(this, t)).supportsBinary = !t.forceBase64, r; } return r(i, [{ key: \"name\", get: function () { return \"websocket\"; } }, { key: \"doOpen\", value: function () { if (this.check()) {\n                var t = this.uri(), e = this.opts.protocols, n = at ? {} : I(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n                this.opts.extraHeaders && (n.headers = this.opts.extraHeaders);\n                try {\n                    this.ws = at ? new st(t, e, n) : e ? new st(t, e) : new st(t);\n                }\n                catch (t) {\n                    return this.emitReserved(\"error\", t);\n                }\n                this.ws.binaryType = this.socket.binaryType || \"arraybuffer\", this.addEventListeners();\n            } } }, { key: \"addEventListeners\", value: function () { var t = this; this.ws.onopen = function () { t.opts.autoUnref && t.ws._socket.unref(), t.onOpen(); }, this.ws.onclose = function (e) { return t.onClose({ description: \"websocket connection closed\", context: e }); }, this.ws.onmessage = function (e) { return t.onData(e.data); }, this.ws.onerror = function (e) { return t.onError(\"websocket error\", e); }; } }, { key: \"write\", value: function (t) { var e = this; this.writable = !1; for (var n = function () { var n = t[r], i = r === t.length - 1; O(n, e.supportsBinary, (function (t) { try {\n                e.ws.send(t);\n            }\n            catch (t) { } i && ot((function () { e.writable = !0, e.emitReserved(\"drain\"); }), e.setTimeoutFn); })); }, r = 0; r < t.length; r++)\n                n(); } }, { key: \"doClose\", value: function () { void 0 !== this.ws && (this.ws.close(), this.ws = null); } }, { key: \"uri\", value: function () { var t = this.opts.secure ? \"wss\" : \"ws\", e = this.query || {}; return this.opts.timestampRequests && (e[this.opts.timestampParam] = Q()), this.supportsBinary || (e.b64 = 1), this.createUri(t, e); } }, { key: \"check\", value: function () { return !!st; } }]), i; }(H);\n    var ut = function (t) { o(i, t); var n = l(i); function i() { return e(this, i), n.apply(this, arguments); } return r(i, [{ key: \"name\", get: function () { return \"webtransport\"; } }, { key: \"doOpen\", value: function () { var t = this; \"function\" == typeof WebTransport && (this.transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]), this.transport.closed.then((function () { t.onClose(); })).catch((function (e) { t.onError(\"webtransport error\", e); })), this.transport.ready.then((function () { t.transport.createBidirectionalStream().then((function (e) { var n, r = e.readable.getReader(); t.writer = e.writable.getWriter(); !function e() { r.read().then((function (r) { var i = r.done, o = r.value; i || (n || 1 !== o.byteLength || 54 !== o[0] ? (t.onPacket(function (t, e, n) { B || (B = new TextDecoder); var r = e || t[0] < 48 || t[0] > 54; return N(r ? t : B.decode(t), n); }(o, n, \"arraybuffer\")), n = !1) : n = !0, e()); })).catch((function (t) { })); }(); var i = t.query.sid ? '0{\"sid\":\"'.concat(t.query.sid, '\"}') : \"0\"; t.writer.write((new TextEncoder).encode(i)).then((function () { return t.onOpen(); })); })); }))); } }, { key: \"write\", value: function (t) { var e = this; this.writable = !1; for (var n = function () { var n = t[r], i = r === t.length - 1; !function (t, e) { k && t.data instanceof Blob ? t.data.arrayBuffer().then(E).then(e) : w && (t.data instanceof ArrayBuffer || _(t.data)) ? e(E(t.data)) : O(t, !1, (function (t) { m || (m = new TextEncoder), e(m.encode(t)); })); }(n, (function (t) { (function (t, e) { return \"message\" === t.type && \"string\" != typeof t.data && e[0] >= 48 && e[0] <= 54; })(n, t) && e.writer.write(Uint8Array.of(54)), e.writer.write(t).then((function () { i && ot((function () { e.writable = !0, e.emitReserved(\"drain\"); }), e.setTimeoutFn); })); })); }, r = 0; r < t.length; r++)\n                n(); } }, { key: \"doClose\", value: function () { var t; null === (t = this.transport) || void 0 === t || t.close(); } }]), i; }(H), ht = { websocket: ct, webtransport: ut, polling: nt }, ft = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/, lt = [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\", \"host\", \"port\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"];\n    function pt(t) { var e = t, n = t.indexOf(\"[\"), r = t.indexOf(\"]\"); -1 != n && -1 != r && (t = t.substring(0, n) + t.substring(n, r).replace(/:/g, \";\") + t.substring(r, t.length)); for (var i, o, s = ft.exec(t || \"\"), a = {}, c = 14; c--;)\n        a[lt[c]] = s[c] || \"\"; return -1 != n && -1 != r && (a.source = e, a.host = a.host.substring(1, a.host.length - 1).replace(/;/g, \":\"), a.authority = a.authority.replace(\"[\", \"\").replace(\"]\", \"\").replace(/;/g, \":\"), a.ipv6uri = !0), a.pathNames = function (t, e) { var n = /\\/{2,9}/g, r = e.replace(n, \"/\").split(\"/\"); \"/\" != e.slice(0, 1) && 0 !== e.length || r.splice(0, 1); \"/\" == e.slice(-1) && r.splice(r.length - 1, 1); return r; }(0, a.path), a.queryKey = (i = a.query, o = {}, i.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, (function (t, e, n) { e && (o[e] = n); })), o), a; }\n    var dt = function (n) { o(a, n); var s = l(a); function a(n) { var r, o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return e(this, a), (r = s.call(this)).writeBuffer = [], n && \"object\" === t(n) && (o = n, n = null), n ? (n = pt(n), o.hostname = n.host, o.secure = \"https\" === n.protocol || \"wss\" === n.protocol, o.port = n.port, n.query && (o.query = n.query)) : o.host && (o.hostname = pt(o.host).host), U(f(r), o), r.secure = null != o.secure ? o.secure : \"undefined\" != typeof location && \"https:\" === location.protocol, o.hostname && !o.port && (o.port = r.secure ? \"443\" : \"80\"), r.hostname = o.hostname || (\"undefined\" != typeof location ? location.hostname : \"localhost\"), r.port = o.port || (\"undefined\" != typeof location && location.port ? location.port : r.secure ? \"443\" : \"80\"), r.transports = o.transports || [\"polling\", \"websocket\", \"webtransport\"], r.writeBuffer = [], r.prevBufferLen = 0, r.opts = i({ path: \"/engine.io\", agent: !1, withCredentials: !1, upgrade: !0, timestampParam: \"t\", rememberUpgrade: !1, addTrailingSlash: !0, rejectUnauthorized: !0, perMessageDeflate: { threshold: 1024 }, transportOptions: {}, closeOnBeforeunload: !1 }, o), r.opts.path = r.opts.path.replace(/\\/$/, \"\") + (r.opts.addTrailingSlash ? \"/\" : \"\"), \"string\" == typeof r.opts.query && (r.opts.query = function (t) { for (var e = {}, n = t.split(\"&\"), r = 0, i = n.length; r < i; r++) {\n        var o = n[r].split(\"=\");\n        e[decodeURIComponent(o[0])] = decodeURIComponent(o[1]);\n    } return e; }(r.opts.query)), r.id = null, r.upgrades = null, r.pingInterval = null, r.pingTimeout = null, r.pingTimeoutTimer = null, \"function\" == typeof addEventListener && (r.opts.closeOnBeforeunload && (r.beforeunloadEventListener = function () { r.transport && (r.transport.removeAllListeners(), r.transport.close()); }, addEventListener(\"beforeunload\", r.beforeunloadEventListener, !1)), \"localhost\" !== r.hostname && (r.offlineEventListener = function () { r.onClose(\"transport close\", { description: \"network connection lost\" }); }, addEventListener(\"offline\", r.offlineEventListener, !1))), r.open(), r; } return r(a, [{ key: \"createTransport\", value: function (t) { var e = i({}, this.opts.query); e.EIO = 4, e.transport = t, this.id && (e.sid = this.id); var n = i({}, this.opts, { query: e, socket: this, hostname: this.hostname, secure: this.secure, port: this.port }, this.opts.transportOptions[t]); return new ht[t](n); } }, { key: \"open\", value: function () { var t, e = this; if (this.opts.rememberUpgrade && a.priorWebsocketSuccess && -1 !== this.transports.indexOf(\"websocket\"))\n                t = \"websocket\";\n            else {\n                if (0 === this.transports.length)\n                    return void this.setTimeoutFn((function () { e.emitReserved(\"error\", \"No transports available\"); }), 0);\n                t = this.transports[0];\n            } this.readyState = \"opening\"; try {\n                t = this.createTransport(t);\n            }\n            catch (t) {\n                return this.transports.shift(), void this.open();\n            } t.open(), this.setTransport(t); } }, { key: \"setTransport\", value: function (t) { var e = this; this.transport && this.transport.removeAllListeners(), this.transport = t, t.on(\"drain\", this.onDrain.bind(this)).on(\"packet\", this.onPacket.bind(this)).on(\"error\", this.onError.bind(this)).on(\"close\", (function (t) { return e.onClose(\"transport close\", t); })); } }, { key: \"probe\", value: function (t) { var e = this, n = this.createTransport(t), r = !1; a.priorWebsocketSuccess = !1; var i = function () { r || (n.send([{ type: \"ping\", data: \"probe\" }]), n.once(\"packet\", (function (t) { if (!r)\n                if (\"pong\" === t.type && \"probe\" === t.data) {\n                    if (e.upgrading = !0, e.emitReserved(\"upgrading\", n), !n)\n                        return;\n                    a.priorWebsocketSuccess = \"websocket\" === n.name, e.transport.pause((function () { r || \"closed\" !== e.readyState && (f(), e.setTransport(n), n.send([{ type: \"upgrade\" }]), e.emitReserved(\"upgrade\", n), n = null, e.upgrading = !1, e.flush()); }));\n                }\n                else {\n                    var i = new Error(\"probe error\");\n                    i.transport = n.name, e.emitReserved(\"upgradeError\", i);\n                } }))); }; function o() { r || (r = !0, f(), n.close(), n = null); } var s = function (t) { var r = new Error(\"probe error: \" + t); r.transport = n.name, o(), e.emitReserved(\"upgradeError\", r); }; function c() { s(\"transport closed\"); } function u() { s(\"socket closed\"); } function h(t) { n && t.name !== n.name && o(); } var f = function () { n.removeListener(\"open\", i), n.removeListener(\"error\", s), n.removeListener(\"close\", c), e.off(\"close\", u), e.off(\"upgrading\", h); }; n.once(\"open\", i), n.once(\"error\", s), n.once(\"close\", c), this.once(\"close\", u), this.once(\"upgrading\", h), -1 !== this.upgrades.indexOf(\"webtransport\") && \"webtransport\" !== t ? this.setTimeoutFn((function () { r || n.open(); }), 200) : n.open(); } }, { key: \"onOpen\", value: function () { if (this.readyState = \"open\", a.priorWebsocketSuccess = \"websocket\" === this.transport.name, this.emitReserved(\"open\"), this.flush(), \"open\" === this.readyState && this.opts.upgrade)\n                for (var t = 0, e = this.upgrades.length; t < e; t++)\n                    this.probe(this.upgrades[t]); } }, { key: \"onPacket\", value: function (t) { if (\"opening\" === this.readyState || \"open\" === this.readyState || \"closing\" === this.readyState)\n                switch (this.emitReserved(\"packet\", t), this.emitReserved(\"heartbeat\"), t.type) {\n                    case \"open\":\n                        this.onHandshake(JSON.parse(t.data));\n                        break;\n                    case \"ping\":\n                        this.resetPingTimeout(), this.sendPacket(\"pong\"), this.emitReserved(\"ping\"), this.emitReserved(\"pong\");\n                        break;\n                    case \"error\":\n                        var e = new Error(\"server error\");\n                        e.code = t.data, this.onError(e);\n                        break;\n                    case \"message\": this.emitReserved(\"data\", t.data), this.emitReserved(\"message\", t.data);\n                } } }, { key: \"onHandshake\", value: function (t) { this.emitReserved(\"handshake\", t), this.id = t.sid, this.transport.query.sid = t.sid, this.upgrades = this.filterUpgrades(t.upgrades), this.pingInterval = t.pingInterval, this.pingTimeout = t.pingTimeout, this.maxPayload = t.maxPayload, this.onOpen(), \"closed\" !== this.readyState && this.resetPingTimeout(); } }, { key: \"resetPingTimeout\", value: function () { var t = this; this.clearTimeoutFn(this.pingTimeoutTimer), this.pingTimeoutTimer = this.setTimeoutFn((function () { t.onClose(\"ping timeout\"); }), this.pingInterval + this.pingTimeout), this.opts.autoUnref && this.pingTimeoutTimer.unref(); } }, { key: \"onDrain\", value: function () { this.writeBuffer.splice(0, this.prevBufferLen), this.prevBufferLen = 0, 0 === this.writeBuffer.length ? this.emitReserved(\"drain\") : this.flush(); } }, { key: \"flush\", value: function () { if (\"closed\" !== this.readyState && this.transport.writable && !this.upgrading && this.writeBuffer.length) {\n                var t = this.getWritablePackets();\n                this.transport.send(t), this.prevBufferLen = t.length, this.emitReserved(\"flush\");\n            } } }, { key: \"getWritablePackets\", value: function () { if (!(this.maxPayload && \"polling\" === this.transport.name && this.writeBuffer.length > 1))\n                return this.writeBuffer; for (var t, e = 1, n = 0; n < this.writeBuffer.length; n++) {\n                var r = this.writeBuffer[n].data;\n                if (r && (e += \"string\" == typeof (t = r) ? function (t) { for (var e = 0, n = 0, r = 0, i = t.length; r < i; r++)\n                    (e = t.charCodeAt(r)) < 128 ? n += 1 : e < 2048 ? n += 2 : e < 55296 || e >= 57344 ? n += 3 : (r++, n += 4); return n; }(t) : Math.ceil(1.33 * (t.byteLength || t.size))), n > 0 && e > this.maxPayload)\n                    return this.writeBuffer.slice(0, n);\n                e += 2;\n            } return this.writeBuffer; } }, { key: \"write\", value: function (t, e, n) { return this.sendPacket(\"message\", t, e, n), this; } }, { key: \"send\", value: function (t, e, n) { return this.sendPacket(\"message\", t, e, n), this; } }, { key: \"sendPacket\", value: function (t, e, n, r) { if (\"function\" == typeof e && (r = e, e = void 0), \"function\" == typeof n && (r = n, n = null), \"closing\" !== this.readyState && \"closed\" !== this.readyState) {\n                (n = n || {}).compress = !1 !== n.compress;\n                var i = { type: t, data: e, options: n };\n                this.emitReserved(\"packetCreate\", i), this.writeBuffer.push(i), r && this.once(\"flush\", r), this.flush();\n            } } }, { key: \"close\", value: function () { var t = this, e = function () { t.onClose(\"forced close\"), t.transport.close(); }, n = function n() { t.off(\"upgrade\", n), t.off(\"upgradeError\", n), e(); }, r = function () { t.once(\"upgrade\", n), t.once(\"upgradeError\", n); }; return \"opening\" !== this.readyState && \"open\" !== this.readyState || (this.readyState = \"closing\", this.writeBuffer.length ? this.once(\"drain\", (function () { t.upgrading ? r() : e(); })) : this.upgrading ? r() : e()), this; } }, { key: \"onError\", value: function (t) { a.priorWebsocketSuccess = !1, this.emitReserved(\"error\", t), this.onClose(\"transport error\", t); } }, { key: \"onClose\", value: function (t, e) { \"opening\" !== this.readyState && \"open\" !== this.readyState && \"closing\" !== this.readyState || (this.clearTimeoutFn(this.pingTimeoutTimer), this.transport.removeAllListeners(\"close\"), this.transport.close(), this.transport.removeAllListeners(), \"function\" == typeof removeEventListener && (removeEventListener(\"beforeunload\", this.beforeunloadEventListener, !1), removeEventListener(\"offline\", this.offlineEventListener, !1)), this.readyState = \"closed\", this.id = null, this.emitReserved(\"close\", t, e), this.writeBuffer = [], this.prevBufferLen = 0); } }, { key: \"filterUpgrades\", value: function (t) { for (var e = [], n = 0, r = t.length; n < r; n++)\n                ~this.transports.indexOf(t[n]) && e.push(t[n]); return e; } }]), a; }(j);\n    dt.protocol = 4, dt.protocol;\n    var yt = \"function\" == typeof ArrayBuffer, vt = function (t) { return \"function\" == typeof ArrayBuffer.isView ? ArrayBuffer.isView(t) : t.buffer instanceof ArrayBuffer; }, gt = Object.prototype.toString, mt = \"function\" == typeof Blob || \"undefined\" != typeof Blob && \"[object BlobConstructor]\" === gt.call(Blob), bt = \"function\" == typeof File || \"undefined\" != typeof File && \"[object FileConstructor]\" === gt.call(File);\n    function kt(t) { return yt && (t instanceof ArrayBuffer || vt(t)) || mt && t instanceof Blob || bt && t instanceof File; }\n    function wt(e, n) { if (!e || \"object\" !== t(e))\n        return !1; if (Array.isArray(e)) {\n        for (var r = 0, i = e.length; r < i; r++)\n            if (wt(e[r]))\n                return !0;\n        return !1;\n    } if (kt(e))\n        return !0; if (e.toJSON && \"function\" == typeof e.toJSON && 1 === arguments.length)\n        return wt(e.toJSON(), !0); for (var o in e)\n        if (Object.prototype.hasOwnProperty.call(e, o) && wt(e[o]))\n            return !0; return !1; }\n    function _t(t) { var e = [], n = t.data, r = t; return r.data = Ot(n, e), r.attachments = e.length, { packet: r, buffers: e }; }\n    function Ot(e, n) { if (!e)\n        return e; if (kt(e)) {\n        var r = { _placeholder: !0, num: n.length };\n        return n.push(e), r;\n    } if (Array.isArray(e)) {\n        for (var i = new Array(e.length), o = 0; o < e.length; o++)\n            i[o] = Ot(e[o], n);\n        return i;\n    } if (\"object\" === t(e) && !(e instanceof Date)) {\n        var s = {};\n        for (var a in e)\n            Object.prototype.hasOwnProperty.call(e, a) && (s[a] = Ot(e[a], n));\n        return s;\n    } return e; }\n    function At(t, e) { return t.data = Et(t.data, e), delete t.attachments, t; }\n    function Et(e, n) { if (!e)\n        return e; if (e && !0 === e._placeholder) {\n        if (\"number\" == typeof e.num && e.num >= 0 && e.num < n.length)\n            return n[e.num];\n        throw new Error(\"illegal attachments\");\n    } if (Array.isArray(e))\n        for (var r = 0; r < e.length; r++)\n            e[r] = Et(e[r], n);\n    else if (\"object\" === t(e))\n        for (var i in e)\n            Object.prototype.hasOwnProperty.call(e, i) && (e[i] = Et(e[i], n)); return e; }\n    var Rt, Tt = [\"connect\", \"connect_error\", \"disconnect\", \"disconnecting\", \"newListener\", \"removeListener\"];\n    !function (t) { t[t.CONNECT = 0] = \"CONNECT\", t[t.DISCONNECT = 1] = \"DISCONNECT\", t[t.EVENT = 2] = \"EVENT\", t[t.ACK = 3] = \"ACK\", t[t.CONNECT_ERROR = 4] = \"CONNECT_ERROR\", t[t.BINARY_EVENT = 5] = \"BINARY_EVENT\", t[t.BINARY_ACK = 6] = \"BINARY_ACK\"; }(Rt || (Rt = {}));\n    var Ct = function () { function t(n) { e(this, t), this.replacer = n; } return r(t, [{ key: \"encode\", value: function (t) { return t.type !== Rt.EVENT && t.type !== Rt.ACK || !wt(t) ? [this.encodeAsString(t)] : this.encodeAsBinary({ type: t.type === Rt.EVENT ? Rt.BINARY_EVENT : Rt.BINARY_ACK, nsp: t.nsp, data: t.data, id: t.id }); } }, { key: \"encodeAsString\", value: function (t) { var e = \"\" + t.type; return t.type !== Rt.BINARY_EVENT && t.type !== Rt.BINARY_ACK || (e += t.attachments + \"-\"), t.nsp && \"/\" !== t.nsp && (e += t.nsp + \",\"), null != t.id && (e += t.id), null != t.data && (e += JSON.stringify(t.data, this.replacer)), e; } }, { key: \"encodeAsBinary\", value: function (t) { var e = _t(t), n = this.encodeAsString(e.packet), r = e.buffers; return r.unshift(n), r; } }]), t; }();\n    function Bt(t) { return \"[object Object]\" === Object.prototype.toString.call(t); }\n    var St = function (t) { o(i, t); var n = l(i); function i(t) { var r; return e(this, i), (r = n.call(this)).reviver = t, r; } return r(i, [{ key: \"add\", value: function (t) { var e; if (\"string\" == typeof t) {\n                if (this.reconstructor)\n                    throw new Error(\"got plaintext data when reconstructing a packet\");\n                var n = (e = this.decodeString(t)).type === Rt.BINARY_EVENT;\n                n || e.type === Rt.BINARY_ACK ? (e.type = n ? Rt.EVENT : Rt.ACK, this.reconstructor = new Nt(e), 0 === e.attachments && p(s(i.prototype), \"emitReserved\", this).call(this, \"decoded\", e)) : p(s(i.prototype), \"emitReserved\", this).call(this, \"decoded\", e);\n            }\n            else {\n                if (!kt(t) && !t.base64)\n                    throw new Error(\"Unknown type: \" + t);\n                if (!this.reconstructor)\n                    throw new Error(\"got binary data when not reconstructing a packet\");\n                (e = this.reconstructor.takeBinaryData(t)) && (this.reconstructor = null, p(s(i.prototype), \"emitReserved\", this).call(this, \"decoded\", e));\n            } } }, { key: \"decodeString\", value: function (t) { var e = 0, n = { type: Number(t.charAt(0)) }; if (void 0 === Rt[n.type])\n                throw new Error(\"unknown packet type \" + n.type); if (n.type === Rt.BINARY_EVENT || n.type === Rt.BINARY_ACK) {\n                for (var r = e + 1; \"-\" !== t.charAt(++e) && e != t.length;)\n                    ;\n                var o = t.substring(r, e);\n                if (o != Number(o) || \"-\" !== t.charAt(e))\n                    throw new Error(\"Illegal attachments\");\n                n.attachments = Number(o);\n            } if (\"/\" === t.charAt(e + 1)) {\n                for (var s = e + 1; ++e;) {\n                    if (\",\" === t.charAt(e))\n                        break;\n                    if (e === t.length)\n                        break;\n                }\n                n.nsp = t.substring(s, e);\n            }\n            else\n                n.nsp = \"/\"; var a = t.charAt(e + 1); if (\"\" !== a && Number(a) == a) {\n                for (var c = e + 1; ++e;) {\n                    var u = t.charAt(e);\n                    if (null == u || Number(u) != u) {\n                        --e;\n                        break;\n                    }\n                    if (e === t.length)\n                        break;\n                }\n                n.id = Number(t.substring(c, e + 1));\n            } if (t.charAt(++e)) {\n                var h = this.tryParse(t.substr(e));\n                if (!i.isPayloadValid(n.type, h))\n                    throw new Error(\"invalid payload\");\n                n.data = h;\n            } return n; } }, { key: \"tryParse\", value: function (t) { try {\n                return JSON.parse(t, this.reviver);\n            }\n            catch (t) {\n                return !1;\n            } } }, { key: \"destroy\", value: function () { this.reconstructor && (this.reconstructor.finishedReconstruction(), this.reconstructor = null); } }], [{ key: \"isPayloadValid\", value: function (t, e) { switch (t) {\n                case Rt.CONNECT: return Bt(e);\n                case Rt.DISCONNECT: return void 0 === e;\n                case Rt.CONNECT_ERROR: return \"string\" == typeof e || Bt(e);\n                case Rt.EVENT:\n                case Rt.BINARY_EVENT: return Array.isArray(e) && (\"number\" == typeof e[0] || \"string\" == typeof e[0] && -1 === Tt.indexOf(e[0]));\n                case Rt.ACK:\n                case Rt.BINARY_ACK: return Array.isArray(e);\n            } } }]), i; }(j), Nt = function () { function t(n) { e(this, t), this.packet = n, this.buffers = [], this.reconPack = n; } return r(t, [{ key: \"takeBinaryData\", value: function (t) { if (this.buffers.push(t), this.buffers.length === this.reconPack.attachments) {\n                var e = At(this.reconPack, this.buffers);\n                return this.finishedReconstruction(), e;\n            } return null; } }, { key: \"finishedReconstruction\", value: function () { this.reconPack = null, this.buffers = []; } }]), t; }(), Lt = Object.freeze({ __proto__: null, protocol: 5, get PacketType() { return Rt; }, Encoder: Ct, Decoder: St });\n    function xt(t, e, n) { return t.on(e, n), function () { t.off(e, n); }; }\n    var Pt = Object.freeze({ connect: 1, connect_error: 1, disconnect: 1, disconnecting: 1, newListener: 1, removeListener: 1 }), jt = function (t) { o(a, t); var n = l(a); function a(t, r, o) { var s; return e(this, a), (s = n.call(this)).connected = !1, s.recovered = !1, s.receiveBuffer = [], s.sendBuffer = [], s._queue = [], s._queueSeq = 0, s.ids = 0, s.acks = {}, s.flags = {}, s.io = t, s.nsp = r, o && o.auth && (s.auth = o.auth), s._opts = i({}, o), s.io._autoConnect && s.open(), s; } return r(a, [{ key: \"disconnected\", get: function () { return !this.connected; } }, { key: \"subEvents\", value: function () { if (!this.subs) {\n                var t = this.io;\n                this.subs = [xt(t, \"open\", this.onopen.bind(this)), xt(t, \"packet\", this.onpacket.bind(this)), xt(t, \"error\", this.onerror.bind(this)), xt(t, \"close\", this.onclose.bind(this))];\n            } } }, { key: \"active\", get: function () { return !!this.subs; } }, { key: \"connect\", value: function () { return this.connected || (this.subEvents(), this.io._reconnecting || this.io.open(), \"open\" === this.io._readyState && this.onopen()), this; } }, { key: \"open\", value: function () { return this.connect(); } }, { key: \"send\", value: function () { for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)\n                e[n] = arguments[n]; return e.unshift(\"message\"), this.emit.apply(this, e), this; } }, { key: \"emit\", value: function (t) { if (Pt.hasOwnProperty(t))\n                throw new Error('\"' + t.toString() + '\" is a reserved event name'); for (var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++)\n                n[r - 1] = arguments[r]; if (n.unshift(t), this._opts.retries && !this.flags.fromQueue && !this.flags.volatile)\n                return this._addToQueue(n), this; var i = { type: Rt.EVENT, data: n, options: {} }; if (i.options.compress = !1 !== this.flags.compress, \"function\" == typeof n[n.length - 1]) {\n                var o = this.ids++, s = n.pop();\n                this._registerAckCallback(o, s), i.id = o;\n            } var a = this.io.engine && this.io.engine.transport && this.io.engine.transport.writable; return this.flags.volatile && (!a || !this.connected) || (this.connected ? (this.notifyOutgoingListeners(i), this.packet(i)) : this.sendBuffer.push(i)), this.flags = {}, this; } }, { key: \"_registerAckCallback\", value: function (t, e) { var n, r = this, i = null !== (n = this.flags.timeout) && void 0 !== n ? n : this._opts.ackTimeout; if (void 0 !== i) {\n                var o = this.io.setTimeoutFn((function () { delete r.acks[t]; for (var n = 0; n < r.sendBuffer.length; n++)\n                    r.sendBuffer[n].id === t && r.sendBuffer.splice(n, 1); e.call(r, new Error(\"operation has timed out\")); }), i);\n                this.acks[t] = function () { r.io.clearTimeoutFn(o); for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++)\n                    n[i] = arguments[i]; e.apply(r, [null].concat(n)); };\n            }\n            else\n                this.acks[t] = e; } }, { key: \"emitWithAck\", value: function (t) { for (var e = this, n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), i = 1; i < n; i++)\n                r[i - 1] = arguments[i]; var o = void 0 !== this.flags.timeout || void 0 !== this._opts.ackTimeout; return new Promise((function (n, i) { r.push((function (t, e) { return o ? t ? i(t) : n(e) : n(t); })), e.emit.apply(e, [t].concat(r)); })); } }, { key: \"_addToQueue\", value: function (t) { var e, n = this; \"function\" == typeof t[t.length - 1] && (e = t.pop()); var r = { id: this._queueSeq++, tryCount: 0, pending: !1, args: t, flags: i({ fromQueue: !0 }, this.flags) }; t.push((function (t) { if (r === n._queue[0]) {\n                if (null !== t)\n                    r.tryCount > n._opts.retries && (n._queue.shift(), e && e(t));\n                else if (n._queue.shift(), e) {\n                    for (var i = arguments.length, o = new Array(i > 1 ? i - 1 : 0), s = 1; s < i; s++)\n                        o[s - 1] = arguments[s];\n                    e.apply(void 0, [null].concat(o));\n                }\n                return r.pending = !1, n._drainQueue();\n            } })), this._queue.push(r), this._drainQueue(); } }, { key: \"_drainQueue\", value: function () { var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]; if (this.connected && 0 !== this._queue.length) {\n                var e = this._queue[0];\n                e.pending && !t || (e.pending = !0, e.tryCount++, this.flags = e.flags, this.emit.apply(this, e.args));\n            } } }, { key: \"packet\", value: function (t) { t.nsp = this.nsp, this.io._packet(t); } }, { key: \"onopen\", value: function () { var t = this; \"function\" == typeof this.auth ? this.auth((function (e) { t._sendConnectPacket(e); })) : this._sendConnectPacket(this.auth); } }, { key: \"_sendConnectPacket\", value: function (t) { this.packet({ type: Rt.CONNECT, data: this._pid ? i({ pid: this._pid, offset: this._lastOffset }, t) : t }); } }, { key: \"onerror\", value: function (t) { this.connected || this.emitReserved(\"connect_error\", t); } }, { key: \"onclose\", value: function (t, e) { this.connected = !1, delete this.id, this.emitReserved(\"disconnect\", t, e); } }, { key: \"onpacket\", value: function (t) { if (t.nsp === this.nsp)\n                switch (t.type) {\n                    case Rt.CONNECT:\n                        t.data && t.data.sid ? this.onconnect(t.data.sid, t.data.pid) : this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                        break;\n                    case Rt.EVENT:\n                    case Rt.BINARY_EVENT:\n                        this.onevent(t);\n                        break;\n                    case Rt.ACK:\n                    case Rt.BINARY_ACK:\n                        this.onack(t);\n                        break;\n                    case Rt.DISCONNECT:\n                        this.ondisconnect();\n                        break;\n                    case Rt.CONNECT_ERROR:\n                        this.destroy();\n                        var e = new Error(t.data.message);\n                        e.data = t.data.data, this.emitReserved(\"connect_error\", e);\n                } } }, { key: \"onevent\", value: function (t) { var e = t.data || []; null != t.id && e.push(this.ack(t.id)), this.connected ? this.emitEvent(e) : this.receiveBuffer.push(Object.freeze(e)); } }, { key: \"emitEvent\", value: function (t) { if (this._anyListeners && this._anyListeners.length) {\n                var e, n = y(this._anyListeners.slice());\n                try {\n                    for (n.s(); !(e = n.n()).done;) {\n                        e.value.apply(this, t);\n                    }\n                }\n                catch (t) {\n                    n.e(t);\n                }\n                finally {\n                    n.f();\n                }\n            } p(s(a.prototype), \"emit\", this).apply(this, t), this._pid && t.length && \"string\" == typeof t[t.length - 1] && (this._lastOffset = t[t.length - 1]); } }, { key: \"ack\", value: function (t) { var e = this, n = !1; return function () { if (!n) {\n                n = !0;\n                for (var r = arguments.length, i = new Array(r), o = 0; o < r; o++)\n                    i[o] = arguments[o];\n                e.packet({ type: Rt.ACK, id: t, data: i });\n            } }; } }, { key: \"onack\", value: function (t) { var e = this.acks[t.id]; \"function\" == typeof e && (e.apply(this, t.data), delete this.acks[t.id]); } }, { key: \"onconnect\", value: function (t, e) { this.id = t, this.recovered = e && this._pid === e, this._pid = e, this.connected = !0, this.emitBuffered(), this.emitReserved(\"connect\"), this._drainQueue(!0); } }, { key: \"emitBuffered\", value: function () { var t = this; this.receiveBuffer.forEach((function (e) { return t.emitEvent(e); })), this.receiveBuffer = [], this.sendBuffer.forEach((function (e) { t.notifyOutgoingListeners(e), t.packet(e); })), this.sendBuffer = []; } }, { key: \"ondisconnect\", value: function () { this.destroy(), this.onclose(\"io server disconnect\"); } }, { key: \"destroy\", value: function () { this.subs && (this.subs.forEach((function (t) { return t(); })), this.subs = void 0), this.io._destroy(this); } }, { key: \"disconnect\", value: function () { return this.connected && this.packet({ type: Rt.DISCONNECT }), this.destroy(), this.connected && this.onclose(\"io client disconnect\"), this; } }, { key: \"close\", value: function () { return this.disconnect(); } }, { key: \"compress\", value: function (t) { return this.flags.compress = t, this; } }, { key: \"volatile\", get: function () { return this.flags.volatile = !0, this; } }, { key: \"timeout\", value: function (t) { return this.flags.timeout = t, this; } }, { key: \"onAny\", value: function (t) { return this._anyListeners = this._anyListeners || [], this._anyListeners.push(t), this; } }, { key: \"prependAny\", value: function (t) { return this._anyListeners = this._anyListeners || [], this._anyListeners.unshift(t), this; } }, { key: \"offAny\", value: function (t) { if (!this._anyListeners)\n                return this; if (t) {\n                for (var e = this._anyListeners, n = 0; n < e.length; n++)\n                    if (t === e[n])\n                        return e.splice(n, 1), this;\n            }\n            else\n                this._anyListeners = []; return this; } }, { key: \"listenersAny\", value: function () { return this._anyListeners || []; } }, { key: \"onAnyOutgoing\", value: function (t) { return this._anyOutgoingListeners = this._anyOutgoingListeners || [], this._anyOutgoingListeners.push(t), this; } }, { key: \"prependAnyOutgoing\", value: function (t) { return this._anyOutgoingListeners = this._anyOutgoingListeners || [], this._anyOutgoingListeners.unshift(t), this; } }, { key: \"offAnyOutgoing\", value: function (t) { if (!this._anyOutgoingListeners)\n                return this; if (t) {\n                for (var e = this._anyOutgoingListeners, n = 0; n < e.length; n++)\n                    if (t === e[n])\n                        return e.splice(n, 1), this;\n            }\n            else\n                this._anyOutgoingListeners = []; return this; } }, { key: \"listenersAnyOutgoing\", value: function () { return this._anyOutgoingListeners || []; } }, { key: \"notifyOutgoingListeners\", value: function (t) { if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n                var e, n = y(this._anyOutgoingListeners.slice());\n                try {\n                    for (n.s(); !(e = n.n()).done;) {\n                        e.value.apply(this, t.data);\n                    }\n                }\n                catch (t) {\n                    n.e(t);\n                }\n                finally {\n                    n.f();\n                }\n            } } }]), a; }(j);\n    function qt(t) { t = t || {}, this.ms = t.min || 100, this.max = t.max || 1e4, this.factor = t.factor || 2, this.jitter = t.jitter > 0 && t.jitter <= 1 ? t.jitter : 0, this.attempts = 0; }\n    qt.prototype.duration = function () { var t = this.ms * Math.pow(this.factor, this.attempts++); if (this.jitter) {\n        var e = Math.random(), n = Math.floor(e * this.jitter * t);\n        t = 0 == (1 & Math.floor(10 * e)) ? t - n : t + n;\n    } return 0 | Math.min(t, this.max); }, qt.prototype.reset = function () { this.attempts = 0; }, qt.prototype.setMin = function (t) { this.ms = t; }, qt.prototype.setMax = function (t) { this.max = t; }, qt.prototype.setJitter = function (t) { this.jitter = t; };\n    var It = function (n) { o(s, n); var i = l(s); function s(n, r) { var o, a; e(this, s), (o = i.call(this)).nsps = {}, o.subs = [], n && \"object\" === t(n) && (r = n, n = void 0), (r = r || {}).path = r.path || \"/socket.io\", o.opts = r, U(f(o), r), o.reconnection(!1 !== r.reconnection), o.reconnectionAttempts(r.reconnectionAttempts || 1 / 0), o.reconnectionDelay(r.reconnectionDelay || 1e3), o.reconnectionDelayMax(r.reconnectionDelayMax || 5e3), o.randomizationFactor(null !== (a = r.randomizationFactor) && void 0 !== a ? a : .5), o.backoff = new qt({ min: o.reconnectionDelay(), max: o.reconnectionDelayMax(), jitter: o.randomizationFactor() }), o.timeout(null == r.timeout ? 2e4 : r.timeout), o._readyState = \"closed\", o.uri = n; var c = r.parser || Lt; return o.encoder = new c.Encoder, o.decoder = new c.Decoder, o._autoConnect = !1 !== r.autoConnect, o._autoConnect && o.open(), o; } return r(s, [{ key: \"reconnection\", value: function (t) { return arguments.length ? (this._reconnection = !!t, this) : this._reconnection; } }, { key: \"reconnectionAttempts\", value: function (t) { return void 0 === t ? this._reconnectionAttempts : (this._reconnectionAttempts = t, this); } }, { key: \"reconnectionDelay\", value: function (t) { var e; return void 0 === t ? this._reconnectionDelay : (this._reconnectionDelay = t, null === (e = this.backoff) || void 0 === e || e.setMin(t), this); } }, { key: \"randomizationFactor\", value: function (t) { var e; return void 0 === t ? this._randomizationFactor : (this._randomizationFactor = t, null === (e = this.backoff) || void 0 === e || e.setJitter(t), this); } }, { key: \"reconnectionDelayMax\", value: function (t) { var e; return void 0 === t ? this._reconnectionDelayMax : (this._reconnectionDelayMax = t, null === (e = this.backoff) || void 0 === e || e.setMax(t), this); } }, { key: \"timeout\", value: function (t) { return arguments.length ? (this._timeout = t, this) : this._timeout; } }, { key: \"maybeReconnectOnOpen\", value: function () { !this._reconnecting && this._reconnection && 0 === this.backoff.attempts && this.reconnect(); } }, { key: \"open\", value: function (t) { var e = this; if (~this._readyState.indexOf(\"open\"))\n                return this; this.engine = new dt(this.uri, this.opts); var n = this.engine, r = this; this._readyState = \"opening\", this.skipReconnect = !1; var i = xt(n, \"open\", (function () { r.onopen(), t && t(); })), o = function (n) { e.cleanup(), e._readyState = \"closed\", e.emitReserved(\"error\", n), t ? t(n) : e.maybeReconnectOnOpen(); }, s = xt(n, \"error\", o); if (!1 !== this._timeout) {\n                var a = this._timeout, c = this.setTimeoutFn((function () { i(), o(new Error(\"timeout\")), n.close(); }), a);\n                this.opts.autoUnref && c.unref(), this.subs.push((function () { e.clearTimeoutFn(c); }));\n            } return this.subs.push(i), this.subs.push(s), this; } }, { key: \"connect\", value: function (t) { return this.open(t); } }, { key: \"onopen\", value: function () { this.cleanup(), this._readyState = \"open\", this.emitReserved(\"open\"); var t = this.engine; this.subs.push(xt(t, \"ping\", this.onping.bind(this)), xt(t, \"data\", this.ondata.bind(this)), xt(t, \"error\", this.onerror.bind(this)), xt(t, \"close\", this.onclose.bind(this)), xt(this.decoder, \"decoded\", this.ondecoded.bind(this))); } }, { key: \"onping\", value: function () { this.emitReserved(\"ping\"); } }, { key: \"ondata\", value: function (t) { try {\n                this.decoder.add(t);\n            }\n            catch (t) {\n                this.onclose(\"parse error\", t);\n            } } }, { key: \"ondecoded\", value: function (t) { var e = this; ot((function () { e.emitReserved(\"packet\", t); }), this.setTimeoutFn); } }, { key: \"onerror\", value: function (t) { this.emitReserved(\"error\", t); } }, { key: \"socket\", value: function (t, e) { var n = this.nsps[t]; return n ? this._autoConnect && !n.active && n.connect() : (n = new jt(this, t, e), this.nsps[t] = n), n; } }, { key: \"_destroy\", value: function (t) { for (var e = 0, n = Object.keys(this.nsps); e < n.length; e++) {\n                var r = n[e];\n                if (this.nsps[r].active)\n                    return;\n            } this._close(); } }, { key: \"_packet\", value: function (t) { for (var e = this.encoder.encode(t), n = 0; n < e.length; n++)\n                this.engine.write(e[n], t.options); } }, { key: \"cleanup\", value: function () { this.subs.forEach((function (t) { return t(); })), this.subs.length = 0, this.decoder.destroy(); } }, { key: \"_close\", value: function () { this.skipReconnect = !0, this._reconnecting = !1, this.onclose(\"forced close\"), this.engine && this.engine.close(); } }, { key: \"disconnect\", value: function () { return this._close(); } }, { key: \"onclose\", value: function (t, e) { this.cleanup(), this.backoff.reset(), this._readyState = \"closed\", this.emitReserved(\"close\", t, e), this._reconnection && !this.skipReconnect && this.reconnect(); } }, { key: \"reconnect\", value: function () { var t = this; if (this._reconnecting || this.skipReconnect)\n                return this; var e = this; if (this.backoff.attempts >= this._reconnectionAttempts)\n                this.backoff.reset(), this.emitReserved(\"reconnect_failed\"), this._reconnecting = !1;\n            else {\n                var n = this.backoff.duration();\n                this._reconnecting = !0;\n                var r = this.setTimeoutFn((function () { e.skipReconnect || (t.emitReserved(\"reconnect_attempt\", e.backoff.attempts), e.skipReconnect || e.open((function (n) { n ? (e._reconnecting = !1, e.reconnect(), t.emitReserved(\"reconnect_error\", n)) : e.onreconnect(); }))); }), n);\n                this.opts.autoUnref && r.unref(), this.subs.push((function () { t.clearTimeoutFn(r); }));\n            } } }, { key: \"onreconnect\", value: function () { var t = this.backoff.attempts; this._reconnecting = !1, this.backoff.reset(), this.emitReserved(\"reconnect\", t); } }]), s; }(j), Dt = {};\n    function Ft(e, n) { \"object\" === t(e) && (n = e, e = void 0); var r, i = function (t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"\", n = arguments.length > 2 ? arguments[2] : void 0, r = t; n = n || \"undefined\" != typeof location && location, null == t && (t = n.protocol + \"//\" + n.host), \"string\" == typeof t && (\"/\" === t.charAt(0) && (t = \"/\" === t.charAt(1) ? n.protocol + t : n.host + t), /^(https?|wss?):\\/\\//.test(t) || (t = void 0 !== n ? n.protocol + \"//\" + t : \"https://\" + t), r = pt(t)), r.port || (/^(http|ws)$/.test(r.protocol) ? r.port = \"80\" : /^(http|ws)s$/.test(r.protocol) && (r.port = \"443\")), r.path = r.path || \"/\"; var i = -1 !== r.host.indexOf(\":\") ? \"[\" + r.host + \"]\" : r.host; return r.id = r.protocol + \"://\" + i + \":\" + r.port + e, r.href = r.protocol + \"://\" + i + (n && n.port === r.port ? \"\" : \":\" + r.port), r; }(e, (n = n || {}).path || \"/socket.io\"), o = i.source, s = i.id, a = i.path, c = Dt[s] && a in Dt[s].nsps; return n.forceNew || n[\"force new connection\"] || !1 === n.multiplex || c ? r = new It(o, n) : (Dt[s] || (Dt[s] = new It(o, n)), r = Dt[s]), i.query && !n.query && (n.query = i.queryKey), r.socket(i.path, n); }\n    return i(Ft, { Manager: It, Socket: jt, io: Ft, connect: Ft }), Ft;\n}));\n//# sourceMappingURL=socket.io.min.js.map\n\n\n//# sourceURL=webpack://pure_node_js_streaming_app/./dist/public/asset/socket.io.min.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./dist/public/asset/index.js");
/******/ 	
/******/ })()
;